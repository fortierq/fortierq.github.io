---
title: "Computer vision applied to the recognition of Magic cards"
tags:
  - ML
  - python
  - programmation
toc: true
toc_label: "Computer vision applied to the recognition of Magic cards"
toc_sticky: true
---

[Magic](https://magic.wizards.com/en) is a card game (played both [online](https://magic.wizards.com/fr/mtgarena) and IRL) in which you have to build a pile of cards (*deck*) to play against other players. The number of cards in a deck can be large (between 40 and 100, most of the time) and listing them (to attend a tournament or sell them, for example) can be tedious. In this article, I describe the development of **mtgscan**, a recognition tool to automatically list cards. 

## Overview
More precisely, given an image of Magic cards, we want to produce the cards names (upper-left on the card). For example:

## Text recognition (OCR)

## Post-processing

## Results

## Web application with Flask

## REST API

## Docker

docker-compose up --build
docker login regmtgscan.azurecr.io
Go to Access Keys in Container Registry and enable the admin user, then use the autogenerated credentials to login via Docker

docker push regmtgscan.azurecr.io/server

In the Azure: App Service explorer, right-click the appropriate App Service and select Restart. Restarting an app service automatically pulls the latest container image from the registry.
2021-02-13T20:25:23.804Z INFO  - Initiating warmup request to container mtgs_0_12728eb7 for site mtgs
2021-02-13T20:25:34.097Z INFO  - Container mtgs_0_12728eb7 for site mtgs initialized successfully and is ready to serve requests.
2021-02-13T20:35:24.444Z INFO  - Pulling image: regmtgscan.azurecr.io/server:latest

docker ps
docker port mtgscan-app_redis_1